import{c as B,m as C,h as L,j as N,k as W,A as G,w as V,b as z,r as H,l as J,o as Q,q as D,u as R,v as U,f as X,x as Y,p as Z}from"./app-018537e2.js";var $=function(){};function q(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i}function K(t,e,i,n){var a;return B(e)?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?i:(a=n.get(e))!==null&&a!==void 0?a:t}function tt(t,e,i){for(let n=0;n<t.length;n++){const a=t[n];a.at>e&&a.at<i&&(N(t,a),n--)}}function et(t,e,i,n,a,f){tt(t,a,f);for(let u=0;u<e.length;u++)t.push({value:e[u],at:C(a,f,n[u]),easing:L(i,u)})}function nt(t,e){return t.at===e.at?t.value===null?1:-1:t.at-e.at}function rt(t,e={}){var i;const n=at(t,e),a=n.map(f=>W(...f,G)).filter(Boolean);return V(a,e,(i=n[0])===null||i===void 0?void 0:i[3].duration)}function at(t,e={}){var{defaultOptions:i={}}=e,n=q(e,["defaultOptions"]);const a=[],f=new Map,u={},O=new Map;let k=0,c=0,b=0;for(let m=0;m<t.length;m++){const l=t[m];if(z(l)){O.set(l,c);continue}else if(!Array.isArray(l)){O.set(l.name,K(c,l.at,k,O));continue}const[S,g,o={}]=l;o.at!==void 0&&(c=K(c,o.at,k,O));let s=0;const h=H(S,u),p=h.length;for(let y=0;y<p;y++){const w=h[y],A=it(w,f);for(const v in g){const P=st(v,A);let r=J(g[v]);const M=Q(o,v);let{duration:j=i.duration||D.duration,easing:E=i.easing||D.easing}=M;if(R(E)){$(v==="opacity"||r.length>1);const x=E.createAnimation(r,v!=="opacity",()=>0,v);E=x.easing,r=x.keyframes||r,j=x.duration||j}const T=U(o.delay,y,p)||0,F=c+T,_=F+j;let{offset:d=X(r.length)}=M;d.length===1&&d[0]===0&&(d[1]=1);const I=d.length-r.length;I>0&&Y(d,I),r.length===1&&r.unshift(null),et(P,r,E,d,F,_),s=Math.max(T+j,s),b=Math.max(_,b)}}k=c,c+=s}return f.forEach((m,l)=>{for(const S in m){const g=m[S];g.sort(nt);const o=[],s=[],h=[];for(let p=0;p<g.length;p++){const{at:y,value:w,easing:A}=g[p];o.push(w),s.push(Z(0,b,y)),h.push(A||D.easing)}s[0]!==0&&(s.unshift(0),o.unshift(o[0]),h.unshift("linear")),s[s.length-1]!==1&&(s.push(1),o.push(null)),a.push([l,S,o,Object.assign(Object.assign(Object.assign({},i),{duration:b,easing:h,offset:s}),n)])}}),a}function it(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function st(t,e){return e[t]||(e[t]=[]),e[t]}export{q as _,rt as t};
